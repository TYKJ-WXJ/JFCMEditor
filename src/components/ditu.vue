<template>
  <div id='map'>

  </div>
</template>

<script>
  import Raphael from 'raphael';

  export default {
    name: 'china_map',
    data() {
      return {
        china: []
      }
    },
    mounted() {
      let R = Raphael('map', 1200, 1200);
      R.setViewBox(0, 0, 800, 700);

      // 调用绘制地图方法
      this.paintMap(R);

      let textAttr = {
        'fill': '#000',
        'font-size': '12px',
        'cursor': 'pointer'
      };

      let _china = this.china;

      for (let state in _china) {
        this.china[state]['path'].color = Raphael.getColor(0.9);

        ((st, state) => {
          // 获取当前图形的中心坐标
          let xx = st.getBBox().x + (st.getBBox().width / 2);
          let yy = st.getBBox().y + (st.getBBox().height / 2);

          // ***修改部分地图文字偏移坐标
//          switch (this.china[state]['name']) {
//            case '江苏':
//              xx += 5;
//              yy -= 10;
//              break;
//            case '河北':
//              xx -= 10;
//              yy += 20;
//              break;
//            case '天津':
//              xx += 10;
//              yy += 10;
//              break;
//            case '上海':
//              xx += 10;
//              break;
//            case '广东':
//              yy -= 10;
//              break;
//            case '澳门':
//              yy += 10;
//              break;
//            case '香港':
//              xx += 20;
//              yy += 5;
//              break;
//            case '甘肃':
//              xx -= 40;
//              yy -= 30;
//              break;
//            case '陕西':
//              xx += 5;
//              yy += 10;
//              break;
//            case '内蒙古':
//              xx -= 15;
//              yy += 65;
//              break;
//            default:
//          }
          // 写入文字
          this.china[state]['text'] = R.text(xx, yy, this.china[state]['name']).attr(textAttr);

          st[0].onmouseover = function () {
            st.animate({fill: st.color, stroke: '#eee'}, 500);
            st.attr('transform', 'S1.5,1.5').toFront();
            _china[state]['text'].toFront();
          };
          st[0].onmouseout = function () {
            st.animate({fill: '#97d6f5', stroke: '#eee'}, 500);
            _china[state]['text'].toFront();
            st.attr('transform', 'S1.0,1.0');
          };
          st[0].onclick = function () {
            console.log(_china[state]['name']);
          };
        })(this.china[state]['path'], state);
      }
    },
    methods: {
      paintMap (R) {
        let attr = {
          'fill': '#97d6f5',
          'stroke': '#eee',
          'stroke-width': 1,
          'stroke-linejoin': 'round'
        };

        this.china.yuhangqu = {
          name: '余杭区',
          path: R.path('M333 107L331 109L328 107L328 103L332 100L332 97C332 97 324 92 332 81L330 68C330 68 325 59 326 58C327 58 331 55 331 55L338 57L349 57C349 57 352 59 351 62C351 62 357 69 368 68C368 68 372 66 376 68C376 68 379 69 381 69L388 76L386 81C386 81 393 84 397 82L399 79C399 79 401.6584 83.44727 403 83C403 83 404.5529 84.10554 405 85C405 85 407 88 410 83C410 83 411 79 417 85L418 85L420 85L421 84L423 85L425 86L427 87L429 86L430 85L430 83L430 81L429 78L429 75L430 72L430 69L432 68L435 69L437 68L438 69L438 72C438 72 440 75 446 72C446 72 446.72 70.43911 449 75L450 75L452 73C452 73 459 61 463 63C463 63 473 67 479 62C479 62 485 58 487 62L488 74L491 79L492 95C492 95 489 102 485 104C485 104 486 112 491 112L493 113L480 121L481 122L478 124L472 119C472 119 471 112 469 108C469 108 469 106 459 106L455 111L449 110C449 110 446 109 444 113L442 114L438 119L429 117L428 118L420 120L420 121L412 122C412 122 409 127 411 127C413 128 410 130 410 130C410 130 404 136 404 138C404 140 410 145 397 156C397 156 397 160 395 160C395 160 394 163 394 164C395 164 392 164 392 164L383 167L379 172L377 172L376 170C376 170 373 161 375 160C375 160 374 153 371 151C371 151 368 143 370 142L366 137L363 137C363 137 363 132 365 131C365 131 366 126 363 124L358 115C358 115 354 115 353 112L346 109C346 109 345 112 340 108L333 107z').attr(attr)
        }
        this.china.gongshuqu = {
          name: '拱墅区',
          path: R.path('M438 135L438.04 135L438 136L439 137L439 138L438 139L437 141L435 143L433 146L431 149L426 149L421 142L420 140L419 138L418 137L417 131L414 127L413 126L414 124L414 123L419 122L423 122L425 121L426 121L428 121L430 120L432 120L438 121L442 116L445 116L445 115L445 113L446 112L449 112L451 113L454 113L455 113L455 117L456 120L456 121L451 122L444 128L438 135z').attr(attr)
        };
        this.china.xiachengqu = {
          name: '下城区',
          path: R.path('M459 108L459.0399 108L465 108L468 110L469 112L470 114C470 114 471 116 471 118L471 119L473 122L474 123L474 127L474 129L473 130L473 131C473 131 471 131 470 131L469 131L468 132L467 133L467 134L467 135L467 137L463 146L457 148L454 148L453 148L452 150L450 155L450 156L439 162L430 163L427 151L431 151L439 140L440 135L443 131L451 124L457 122L456 116L458 110L459 108z').attr(attr)
        };
        this.china.xihuqu = {
          name: '西湖区',
          path: R.path('M413 128L416 133L419 143C419 143 435 164 424 173C414 182 416 182 416 182L417 188L424 190L427 195C427 195 431 198 436 198L441 203L443 204L443 206L443 208L441 209L433 212L431 213L425 212C425 212 414 218 408 213L401 198L405 187L406 182L404 178L400 177L399 177L396 167L396 164L397 161C397 161 399 159 399 157L401 156C401 156 409 144 407 142C407 142 407 139 406 139L405 138L407 136L412 129L413 128z').attr(attr)
        };
        this.china.shangchengqu = {
          name: '上城区',
          path: R.path('M429 164C429 164 431 171 426 173L425 174L418 182L419 186L425 188L432 184L443 179L450 179L458 169L456 168L455 167L455 166L456 165L456 164L456 163L452 157L449 159L439 163L432 164L430 164L429 164z').attr(attr)
        };
        this.china.binjiangqu = {
          name: '滨江区',
          path: R.path('M464 169L461 169C461 169 460 169 459 170L450 181L443 181L431 186L426 190L427 192L428 193L430 195L433 195L438 198L441 202L442 203L444 203L448 205C448 205 451 206 452 204L454 202L457 200L460 202L465 203L468 202L468 197L470 194L471 192L471 189L471 184L471 180L471 173L466 170L464 169z').attr(attr)
        };
        this.china.jiangganqu = {
          name: '江干区',
          path: R.path('M503 105L501 107L496 107L494 112L497 114C497 114 487 121 483 121L482 124C482 124 477 127 476 127L475 128L475 129L474 132L469 133L469 137L465 147L456 150L455 150L454 150L451 154L456 161L457 163L457 165L457 166C457 166 456 168 460 168C460 168 465 166 467 168L470 170L471 170L471 165L472 163C472 163 475 161 478 161C478 161 480 159 485 159L491 155L494 155L498 156L505 156C505 156 510 157 510 148L514 141C514 141 515 140 514 137L512 132L514 130L515 129C515 129 514 125 516 123L518 119C518 119 525 115 526 115C526 115 526 113 525 112C525 112 523 109 521 110L509 108C509 108 506 107 504 106L503 105z').attr(attr)
        };
        this.china.xiaoshanqu = {
          name: '萧山区',
          path: R.path('M517 130L515 132C515 132 513 133 516 135C516 135 516 138 517 139L517 140C517 140 513 148 512 151C511 155 512 158 508 158C504 158 502 158 500 159C500 159 496 158 494 157C492 155 492 158 488 159C488 159 485 160 484 161C484 161 482 162 479 162L476 163L473 165C473 165 473 172 472 173C471 174 472 192 472 192C472 192 472 194 469 197C469 197 470 202 469 203C469 204 466 205 466 205C466 205 457 203 456 202C456 202 451 207 450 207C450 207 446 206 445 206C445 207 446 207 444 213L444 215C444 215 445 218 444 220C444 221 445 221 445 221C445 221 443 228 440 229L440 235C440 235 435 238 437 241C438 245 437 244 436 247C436 247 432 255 433 256L439 267C439 267 441 268 443 265L446 262C446 262 449 260 449 256C449 256 450 252 451 252L454 249C454 249 456 248 457 251C457 251 459 252 461 249C461 249 463 247 463 244C463 244 464 242 467 244C467 244 468 243 468 242C468 242 471 241 472 244C472 244 475 246 477 245C477 245 480 243 480 248C480 248 482 252 484 248C486 245 489 246 489 247C489 247 493 249 495 243L502 233C503 233 504 234 504 234L505 233C505 233 500 220 497 219C497 219 495 216 498 215C498 215 500 207 495 202C495 202 492 201 490 203C490 203 486 203 489 199C489 199 491 197 490 195C490 195 491 191 494 196C494 196 497 198 499 192C499 192 507 182 514 195C514 195 514 196 515 195C516 193 517 192 517 192C517 192 518 191 519 195C519 195 524 197 525 192C527 188 528 189 528 189C528 189 529 189 529 185C529 181 536 183 538 186C540 188 546 188 546 187C546 187 552 188 552 190C552 190 560 194 564 187C564 187 564 169 567 166C570 163 587 145 587 145C587 145 585 137 583 136C583 136 583 132 582 131L582 127C582 127 584 121 579 118C579 118 575 118 573 116C570 114 544 113 542 113C540 114 527 114 521 120C516 127 517 128 517 129C516 130 517 129 517 129L517 130ZM517 129z').attr(attr)
        };
        this.china.fuyangqu = {
          name: '富阳区',
          path: R.path('M393 166L384 168L385 170C385 170 384 169 383 171C383 171 379 171 377 179L374 182C374 182 371 181 367 193C367 193 364 201 357 193L355 193C355 193 356 202 346 194L341 189L333 189L328 180C328 180 323 179 323 169L322 168L315 170C315 170 316 180 308 179L307 183C307 183 299 179 293 186L297 190L293 198C293 198 298 198 298 201C298 201 309 197 309 210C309 210 307 214 308 218C308 218 315 218 314 223C314 223 312 231 319 229C319 229 333 226 335 243L343 244C343 244 347 248 346 254C346 254 353 259 353 261C353 261 355 264 356 261C356 261 369 257 369 258C369 258 372 257 373 259C373 259 381 269 388 268C388 268 386 277 387 278C387 278 377 285 391 291C391 291 392 297 394 300C394 300 394 306 403 302L405 303L408 303L410 301L410 297C410 297 414 296 417 294C417 294 424 290 422 284C422 284 421 279 421 278C420 277 424 274 427 274C430 274 436 277 438 272C438 272 440 271 436 267C436 267 428 255 431 251L435 243C435 243 431 237 436 234C436 234 438 233 437 228C437 228 438 226 440 226C442 227 443 216 441 214L442 212L442 210C442 210 433 213 433 214C433 214 428 216 425 214C425 214 415 219 412 216C412 216 406 216 405 210L399 198L404 184L402 179C402 179 396 180 397 177L394 169L393 166z').attr(attr)
        };
        this.china.linanqu = {
          name: '临安区',
          path: R.path('M327 109C327 109 325 98 317 105C317 105 315 98 308 108C308 108 300 107 300 106C300 106 296 105 294 110L290 114C290 114 286 114 280 120C280 120 277 125 273 123C273 123 268 109 259 124C259 124 257 126 252 125C247 124 249 131 249 131L248 135C248 135 246 141 243 137C243 137 242 135 238 140L220 134C220 134 216 127 212 132C212 132 211 135 207 134C207 134 204 131 199 131C199 131 197 128 192 127L192 122L185 121L183 121C183 121 182 121 178 125C178 125 175 125 172 129L170 131L169 131C169 131 166 133 168 142C168 142 170 146 170 150C169 153 173 159 177 159C177 159 186 165 162 174C162 174 156 176 165 181C165 181 165 182 167 181C167 181 171 178 169 184C169 184 167 188 163 184L163 188L165 192C165 192 167 191 168 199C168 199 170 202 170 212L171 214L172 216L180 217C180 217 183 213 188 215C188 215 189 217 193 214C197 211 199 209 200 216C200 216 199 219 210 219C210 219 218 216 218 222C218 222 215 229 227 227C227 227 229 229 236 230C236 230 241 231 241 233C241 233 247 233 247 239C247 239 248 245 251 238C251 238 253 228 248 225C248 225 259 213 262 220C262 220 261 224 264 222C264 222 266 221 266 219C266 219 275 221 276 223C276 223 290 232 289 209C289 209 287 197 291 197L294 190L290 185C290 185 297 176 305 180L306 176C306 176 314 180 313 169L321 165C321 165 325 166 325 171C324 175 326 178 329 178L334 186L341 187C341 187 348 194 351 195C351 195 354 197 354 192L355 190L358 190C358 190 363 197 365 192C365 192 367 184 370 182C370 182 370 180 372 180C372 180 375 178 376 178L376 174L373 169C373 169 374 155 368 148L367 144L364 140C364 140 358 139 363 131L363 127L361 125L356 117C356 117 352 118 352 114C352 114 348 111 345 112C345 112 340 113 338 109L333 109L331 110L328 109L327 109z').attr(attr)
        };
        this.china.tongluxian = {
          name: '桐庐县',
          path: R.path('M297 202C297 202 296 199 292 199C292 199 288 200 290 208C290 208 293 236 275 224C275 224 270 221 268 222C265 223 262 228 261 220C261 220 258 217 250 225C250 225 258 242 248 243L245 246C245 246 245 251 243 252C243 252 231 257 237 268C237 268 242 267 249 273C249 273 257 262 254 281C254 281 261 288 258 294C258 294 258 299 259 300C259 300 264 300 266 304L268 305C268 305 272 301 274 295C274 295 276 290 277 290C277 290 279 287 281 291C283 295 286 295 287 293L288 293C288 293 294 297 297 295C297 295 305 300 304 302C304 302 306 303 318 292L328 302L330 321L337 321C337 321 341 330 343 330C343 330 343 335 345 338C345 338 345 334 350 333C350 333 356 334 357 336L357 335C357 335 359 337 361 335C363 334 364 333 362 330C362 330 359 327 362 326L363 323C363 322 370 320 373 316C373 316 378 314 379 317C379 317 381 319 386 318C386 318 391 323 401 316C401 316 404 314 405 316C405 316 408 317 407 312C407 312 405 308 403 307C403 307 403 301 399 306C399 306 392 307 393 303C393 303 392 299 391 298C389 298 392 293 385 290C385 290 376 286 384 277L385 270C385 270 378 269 371 260L358 263C358 263 357 266 353 264C353 264 351 259 345 255C345 255 345 248 343 246L333 246C333 246 332 237 331 235C331 235 327 229 318 231C318 231 310 234 312 222C312 222 313 219 307 219C307 219 303 218 307 209C307 209 308 200 298 203L297 202z').attr(attr)
        };
        this.china.chunanxian = {
          name: '淳安县',
          path: R.path('M170 218L170 222C170 222 172 224 170 227L169 237C169 237 166 234 162 238L158 238L159 252L156 255L153 256L145 265L138 265C138 265 137 267 140 269L139 272L135 272L134 280L137 286L135 295L129 303C129 303 123 305 117 319C117 319 114 323 110 321C106 319 96 324 95 324C95 324 94 333 81 341L79 347L79 355C79 355 79 361 68 359L54 359L45 369L45 374C45 374 47 374 51 379C51 379 52 382 57 383C57 383 59 382 58 387C58 387 57 388 62 389L63 395L68 400C68 400 68 403 71 400C74 398 77 401 77 401C77 401 78 403 81 402C83 400 84 405 84 405C84 405 85 408 91 409C91 409 92 406 96 409C96 409 98 410 101 410L102 414L108 425L103 426L104 434C104 434 102 440 106 441C106 441 109 442 107 446L107 449C107 449 107 452 111 449L119 448C119 448 121 454 128 450C134 445 136 444 136 444C136 444 138 441 138 436C138 436 140 431 147 427L150 426L157 421L158 417L163 413L166 413C166 413 168 409 175 408C175 408 181 405 182 402C182 402 184 400 186 402C186 402 193 403 193 401L195 400C195 400 203 397 205 392C205 392 206 387 209 388C209 388 216 389 216 383C216 383 217 378 224 378C231 378 235 376 235 372C235 372 237 367 237 366C238 366 237 358 237 358C237 358 238 353 242 357C242 357 246 361 249 352C249 352 251 348 254 347L253 346C253 346 251 347 250 346C250 346 243 346 247 336C247 336 249 332 249 330C248 329 252 325 253 326C253 326 256 320 260 320C260 320 262 320 263 316C263 316 263 313 266 311C266 311 268 309 268 307C268 307 268 306 266 306C266 306 263 302 259 302C259 302 255 297 257 292C257 292 258 287 252 282C252 282 254 278 253 272C253 272 252 270 250 275C250 275 244 269 236 269C236 269 227 258 242 250L243 250C243 250 244 244 246 243L246 241L246 239C246 239 246 235 241 235C241 235 240 235 239 233C238 231 231 231 231 231C231 231 229 231 226 228C226 228 216 228 216 224C217 220 216 219 208 221C208 221 199 222 199 217C199 212 197 213 197 213C197 213 191 219 187 217C187 217 182 216 181 218C181 218 171 218 170 218z').attr(attr)
        };
        this.china.jiandeshi = {
          name: '建德市',
          path: R.path('M278 291C278 291 276 292 274 298C274 298 272 302 269 305C269 305 271 308 268 310C268 310 267 312 266 313C265 313 264 317 264 317C264 317 263 321 260 322C260 322 255 321 254 328C254 328 250 327 250 332C250 332 249 336 248 337C248 337 243 344 251 345C251 345 255 342 255 348L253 349C252 349 248 356 247 358C246 360 243 361 239 357C239 357 238 357 238 363C238 363 239 363 237 368C236 373 236 374 236 374C236 374 234 379 226 379C218 380 217 383 216 386C216 386 216 390 208 390C208 390 206 390 206 393C206 396 196 402 194 402C194 402 192 405 185 403C185 403 183 402 182 404C181 405 175 410 171 411C171 411 169 413 171 414C173 415 182 421 182 421C182 421 184 422 181 425C181 425 180 427 182 429C184 430 186 433 187 438C188 444 192 447 192 447L205 442L217 442C217 442 219 439 220 443C220 443 221 445 225 444C225 444 227 442 228 443C228 444 231 450 234 448C234 448 235 448 235 442C235 442 235 441 238 443L238 434C238 434 233 434 234 429L238 423C238 423 241 420 243 425L243 434C243 434 245 439 252 436C252 436 256 433 257 426L264 426C264 426 267 424 264 419L269 415C269 415 272 413 268 407C268 407 266 405 268 401C268 401 270 398 267 393C267 393 275 389 278 386C278 386 280 383 280 388C280 388 282 392 287 393C287 393 288 392 288 389C288 389 289 387 290 388C290 388 291 391 294 393C294 393 296 396 295 401C293 405 297 412 299 412C301 412 306 412 306 412C306 412 308 411 308 409C308 409 311 407 312 403L318 397L317 395C317 395 319 398 323 397C323 397 325 396 323 390C323 390 326 386 327 383L330 380C330 380 333 383 336 381C336 381 339 381 340 383C340 383 338 378 346 378L346 376C346 376 344 372 345 369C345 369 347 368 347 362C347 362 350 361 349 352C349 352 349 349 356 349L357 347C357 347 355 346 355 343C355 343 358 341 356 338L352 336C352 336 347 331 346 339C346 339 342 344 340 331L336 323L328 323L326 303L318 295L308 302C308 302 303 306 302 301L297 297C297 297 290 298 288 295C288 295 282 298 279 292L278 291z').attr(attr)
        };
      }
    }
  }
</script>
